{{- if .Values.paddlejob.enabled -}}
apiVersion: batch.paddlepaddle.org/v1
kind: PaddleJob
metadata:
  name: {{ include "common.names.fullname" . }}-test-paddlejob
  namespace: {{ .Release.Namespace | quote }}
  labels:
    {{- include "common.labels.standard" . | nindent 4 }}
  annotations:
    "helm.sh/hook": test
spec:
  worker:
    replicas: 1
    template:
      spec:
        containers:
          - name: sample
            image: nginx
        restartPolicy: OnFailure
  ps:
    replicas: 1
    template:
      spec:
        containers:
          - name: sample
            image: nginx
        restartPolicy: OnFailure
{{- end -}}
